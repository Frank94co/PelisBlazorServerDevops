@page "/personas/crear"
@inject PersonasRepo repo
@inject NavigationManager navigationManager
@inject IMostrarMensajes mostrarMensajes
@attribute [Authorize(Roles = "admin")]

<h3>Crear Persona</h3>

<FormularioPersonas OnValidSubmit="Crear" Persona="persona" />

@code {
    private Persona persona = new Persona();

    async Task Crear()
    {
        await repo.Post(persona);
        navigationManager.NavigateTo("/personas");
    }
}
